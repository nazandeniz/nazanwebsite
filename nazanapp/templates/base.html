{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nazan Deniz - Web Developer</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}" />
    <link
      rel="icon"
      type="image/x-icon"
      href="{% static 'img/faviconn.png' %}"
    />
  </head>
  <body>
    <header id="navbar">
      <nav>
        <input type="checkbox" id="menu-toggle" />
        <label for="menu-toggle" class="hamburger">&#9776;</label>
        <ul class="nav-links">
          <li><a href="#home" class="nav-link">Home</a></li>
          <li><a href="#work" class="nav-link">Work</a></li>
          <li><a href="#about" class="nav-link">About</a></li>
          <li>
            <a href="https://github.com/nazandeniz" target="_blank">GitHub</a>
          </li>
          <li>
            <button id="theme-toggle" aria-label="Toggle Theme">ðŸŒž</button>
          </li>
        </ul>
      </nav>
    </header>

    <section id="home" class="full-screen">
      <h1>Welcome to Homepage!</h1>
      <p>This is my personal website built with Django and first passion.</p>
    </section>

    <section id="work" class="full-screen">
      <h2>Projects</h2>
      <div class="project-grid">
        <div class="project-card">
          <h3>Student Grade App</h3>
          <p>
            A student grade tracking system built with Windows Forms. Supports
            CRUD operations and PDF export.
          </p>
          <a
            href="https://github.com/nazandeniz/StudentGradeApp"
            target="_blank"
            >View on GitHub</a
          >
        </div>
        <div class="project-card">
          <h3>Task Manager App</h3>
          <p>
            A task and time management app with user roles, built using Windows
            Forms and SQLite.
          </p>
          <a href="https://github.com/nazandeniz/TaskManagerApp" target="_blank"
            >View on GitHub</a
          >
        </div>
      </div>
    </section>

    <section id="about" class="full-screen">
      <h2>About Me</h2>
      <p>
        I'm a self-taught developer passionate about building useful and elegant
        software. My focus is on C#, Windows Forms, Django, and databases like
        SQLite.
      </p>
      <h3>Skills</h3>
      <ul class="skills">
        <li>C#</li>
        <li>Windows Forms</li>
        <li>Django</li>
        <li>SQLite</li>
        <li>HTML/CSS</li>
        <li>Git & GitHub</li>
      </ul>
    </section>

    <footer>
      <p>
        Â© 2025 Nazan Deniz â€¢
        <a href="mailto:1nazandeniz@gmail.com">1nazandeniz@gmail.com</a>
      </p>
    </footer>

    <!-- JAVASCRIPT -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute("href"));
            if (target) {
              target.scrollIntoView({ behavior: "smooth" });
            }
          });
        });

        // Aktif link vurgusu
        const sections = document.querySelectorAll("section");
        const navLinks = document.querySelectorAll("#navbar .nav-link");

        window.addEventListener("scroll", () => {
          let current = "";
          sections.forEach((section) => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.offsetHeight;
            if (pageYOffset >= sectionTop - sectionHeight / 3) {
              current = section.getAttribute("id");
            }
          });
          navLinks.forEach((link) => {
            link.classList.remove("active");
            if (link.getAttribute("href") === `#${current}`) {
              link.classList.add("active");
            }
          });
        });

        // Tema geÃ§iÅŸi ve simge deÄŸiÅŸtirme + localStorage
        const themeToggle = document.getElementById("theme-toggle");
        const html = document.documentElement;

        const applyTheme = (theme) => {
          html.setAttribute("data-theme", theme);
          themeToggle.textContent = theme === "dark" ? "ðŸŒ™" : "ðŸŒž";
        };

        // HTML iÃ§indeki tema neyse onu baz al, localStorage varsa onunla override et
        const htmlDefaultTheme = html.getAttribute("data-theme") || "dark";
        const savedTheme = localStorage.getItem("theme");

        // Ä°lk aÃ§Ä±lÄ±ÅŸta tema ayarla
        applyTheme(savedTheme || htmlDefaultTheme);

        themeToggle.addEventListener("click", () => {
          const currentTheme = html.getAttribute("data-theme");
          const nextTheme = currentTheme === "light" ? "dark" : "light";
          applyTheme(nextTheme);
          localStorage.setItem("theme", nextTheme);
        });
      });
    </script>
  </body>
</html>
